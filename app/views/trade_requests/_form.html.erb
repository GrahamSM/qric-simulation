<%= form_for(trade_request) do |f| %>

  <% if trade_request.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(trade_request.errors.count, "error") %> prohibited this trade_request from being saved:</h2>
      <ul>
      <% trade_request.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="new-trade">
    <div class="new-trade" id="outgoing-items">
      <ul>
        <p id="offer-heading">Your Offer</p>
        <li>
          <% current_user.team.properties.each do |prop| %>
            <%= check_box_tag "outgoing_property[]", prop.id %>
            <%= label_tag 'outgoing_property', prop.city %>
          <% end %>
        </li>
        <li>
          <label for="outgoing-cash" class="mat-label">Cash Offer</label>
          <%= f.input :outgoing_cash, :input_html => { :value => 'Outgoing Cash' }, :class => 'mat-input', :id => 'cash-outgoing' %>
        </li>
      </ul>
    </div>
    <div class="new-trade" id="requested-items">
      <div>
        <p id="offer-heading">Your Request</p>
        <% Team.find(@team_id).properties.each do |prop| %>
          <%= check_box_tag "incoming_property[]", prop.id %>
          <%= label_tag 'incoming_property', prop.city %>
        <% end %>
      </div>
      <div id="request-cash-input">
        <label for="requested-cash" class="mat-label">Requested Cash</label>
        <%= f.input :incoming_cash, :input_html => { :value => 'Incoming Cash' }, :class => 'mat-input', :id => 'cash-incoming' %>
      </div>
    </div>
  </div>

  <%= f.submit 'Submit Request', class: 'submit-btn' %>

<% end %>



<script>
$(".mat-input").focus(function(){
  $(this).parent().addClass("is-active is-completed");
});

$(".mat-input").focusout(function(){
  if($(this).val() === "")
    $(this).parent().removeClass("is-completed");
  $(this).parent().removeClass("is-active");
})
</script>
